---
title: "DataFrame 조작하기"
description: ""
tags: ["Pandas","Knowledge"]
date: "2023-01-01"
thumbnail: "/markdown-memo/legacy/images/8f55879a-47eb-4a24-a312-148a73adf629.png"
---

pandas에서는 데이터의 집합들을 감싸고 있는 객체들을 DataFrame 이라고 한다.

이를 조작하여 다양한 데이터를 필터하여 데이터 간 유의미한 상관관계를 찾는데 도움을 줄 수 있다.


실습은 캐글 노트북에서 진행했으며 데이터는 유명한 [타이타닉](https://www.kaggle.com/competitions/titanic) 데이터 셋을 사용하였다.


```python
data = pd.read_csv('../input/titanic/train.csv')
data.head() # 상위 5개 반환
```

![](/markdown-memo/legacy/images/8f55879a-47eb-4a24-a312-148a73adf629.png)


DataFrame 객체에서 column에 접근하는 것은 간단하다.

```python
data['Age'].head() # 상위 5개 반환

0    22.0
1    38.0
2    26.0
3    35.0
4    35.0
Name: Age, dtype: float64
```


여러 column에 동시에 접근하고 싶으면 리스트를 선택 인자로 넘기면 된다.

```python
data[['Age', 'Pclass']].head() # 상위 5개 반환
```

![](/markdown-memo/legacy/images/d720cfd4-f2b1-4b4e-851c-c28c76425292.png)


열 데이터 피쳐가 특정 조건을 가지는 행들만 반환하고 싶다면 다음과 같다.

```python
data[data['Age']>35].head() # 상위 5개 반환
```

![](/markdown-memo/legacy/images/a9dd5b25-b786-4f52-b662-70a60e2c4276.png)


그 중, 이름만 반환하고 싶다면?

```python
data[data['Age'] > 35]['Name'].head()

data.loc[data['Age'] > 35, 'Name'].head() # 이렇게도 사용가능하다.

1     Cumings, Mrs. John Bradley (Florence Briggs Th...
6                               McCarthy, Mr. Timothy J
11                             Bonnell, Miss. Elizabeth
13                          Andersson, Mr. Anders Johan
15                     Hewlett, Mrs. (Mary D Kingcome) 
Name: Name, dtype: object
```


# loc vs iloc

`DataFrame`에는 `loc`과 `iloc`를 쓸 수 있습니다.

## loc

행 또는 열의 라벨을 이용하여 데이터를 선택할 수 있도록 하는 메서드입니다.


## iloc

행 또는 열의 위치를 이용하여 데이터를 선택할 수 있도록 하는 메서드입니다.

```python
data.iloc[0:10, 1:4].head()
```

![](/markdown-memo/legacy/images/11631dea-870b-49e5-8682-73fa6bb7e81e.png)

# 매듭짓기

- 데이터의 부분집합을 선택할 때는 `[]` 가 사용된다!
- `[]` 안에서는 단일 행/열 라벨, 리스트 행/열 라벨, 슬라이싱 또는 조건부표현이 사용될 수 있다
- 특정 행 또는 열을 선택할 때에는  행 / 열 이름을 `loc` 에 사용하여 선택할 수 있다
- 특정 행 또는 열을 선택할 때에는 테이블의 위치를 `iloc` 에 사용하여 선택할 수 있다.
- `loc` 또는 `iloc` 을 사용하여 선택한 곳에 새로운 값을 할당할 수 있다.
